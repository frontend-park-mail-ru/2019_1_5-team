<fest:template xmlns:fest="http://fest.mail.ru" context_name="params">
    <div class="container">
        <section class="container__block container__block_side">
            <div class="settings">
                <a class="settings__btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="0.7em" height="0.7em" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6.937 1.291A1 1 0 0 1 8.642 2v12a1 1 0 0 1-1.697.717L3 11H1.25C.56 11 0 10.44 0 9.75v-3.5C0 5.56.56 5 1.25 5H3l3.937-3.709zM14.287 8a5.105 5.105 0 0 0-4.115-4.973l-.021-.007a.862.862 0 0 1 .507-1.646l.303.079A6.821 6.821 0 0 1 16 8a6.821 6.821 0 0 1-5.039 6.547l-.303.079a.861.861 0 0 1-.486-1.653A5.105 5.105 0 0 0 14.287 8zM11 8a1.812 1.812 0 0 0-.952-1.563l-.01-.008a.833.833 0 0 1 .939-1.369l.186.109A3.478 3.478 0 0 1 12.666 8a3.478 3.478 0 0 1-1.503 2.831l-.186.109a.832.832 0 0 1-.939-1.369l.01-.008c.558-.301.94-.887.952-1.563z"/>
                    </svg>
                </a>
                <a class="settings__btn info" href="/about">
                </a>
            </div>
        </section>
        <section class="container__block container__block_center">
            <div class="content">
                <h1 class="content__header">SIGN UP</h1>
                <form class="form js-signup-form">
                    <label class="form__label" for="login">Login</label>
                    <input class="form__input js-login" type="text" id="login" autofocus="true"/>
                    <div class="form__warning js-warning-login"></div>

                    <label class="form__label" for="email">Email</label>
                    <input class="form__input js-email" type="text" id="email"/>
                    <div class="form__warning js-warning-email"></div>

                    <label class="form__label" for="password">Password</label>
                    <input class="form__input js-password" type="password" id="password"/>
                    <div class="form__warning js-warning-password"></div>

                    <div class="form-btn-block">
                        <a class="btn btn_inlined form__btn form__btn_back" href="/">Back</a>
                        <button class="btn btn_contained form__btn js-submit" type="submit">Sign Up</button>
                    </div>
                </form>
            </div>
        </section>
        <section class="container__block container__block_side">
            <div class="users">
                <a class="btn users__btn" href="/login">Log In</a>
                <a class="btn users__btn" href="/signup">Sign Up</a>
            </div>
        </section>

        <script src="wasm_exec.js"></script>
        <script>
            if (!WebAssembly.instantiateStreaming) { // polyfill
                WebAssembly.instantiateStreaming = async (resp, importObject) => {
                    const source = await (await resp).arrayBuffer();
                    return await WebAssembly.instantiate(source, importObject);
                };
            }

            (async function () {
                const go = new Go()
                const {instance} = await WebAssembly.instantiateStreaming(fetch("test.wasm"), go.importObject);
                go.run(instance)
            })();

            let getCustomAvatar;

            function setCustomAvatar(callback) {
                getCustomAvatar = callback;
                // document.querySelector('#printMessageButton').disabled = false
            }
        </script>

        <script>
        // var input = document.body.children[0];
        let login = document.querySelector('.js-login');
        login.oninput = function () {
            getCustomAvatar(document.querySelector('.js-login').value, document.querySelector('.js-email').value)
        };

        let email = document.querySelector('.js-email');
        email.oninput = function () {
            getCustomAvatar(document.querySelector('.js-login').value, document.querySelector('.js-email').value)
        };
        </script>
    </div>
</fest:template>